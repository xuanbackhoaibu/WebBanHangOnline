@page
@model GenerateRecoveryCodesModel
@{
    ViewData["Title"] = "Tạo mã khôi phục xác thực 2 bước";
    ViewData["ActivePage"] = ManageNavPages.TwoFactorAuthentication;
}

<partial name="_StatusMessage" for="StatusMessage" />

<div class="card shadow-sm">
    <div class="card-body">

        <h4 class="mb-3">
            @ViewData["Title"]
        </h4>

        <div class="alert alert-warning" role="alert">
            <h6 class="fw-bold mb-2">
                ⚠ Lưu trữ các mã này ở nơi an toàn
            </h6>

            <p class="mb-2">
                Các mã khôi phục cho phép bạn đăng nhập nếu mất thiết bị xác thực
                (Google Authenticator, Authy, v.v).
            </p>

            <ul class="mb-2">
                <li>Mỗi mã chỉ sử dụng được <strong>một lần</strong></li>
                <li>Nếu mất cả thiết bị và mã khôi phục, bạn sẽ <strong>không thể đăng nhập</strong></li>
            </ul>

            <p class="mb-0">
                Việc tạo mã khôi phục <strong>không làm thay đổi</strong> khóa xác thực hiện tại.
                Nếu muốn đổi khóa, hãy
                <a asp-page="./ResetAuthenticator" class="fw-bold">
                    đặt lại ứng dụng xác thực
                </a>.
            </p>
        </div>

        <form method="post" class="mt-3">
            <button type="submit"
                    class="btn btn-danger">
                Tạo mã khôi phục mới
            </button>

            <a asp-page="./TwoFactorAuthentication"
               class="btn btn-outline-secondary ms-2">
                Quay lại
            </a>
        </form>

    </div>
</div>