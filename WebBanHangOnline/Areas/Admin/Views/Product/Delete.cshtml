@model WebBanHangOnline.Models.Product

@{
    ViewData["Title"] = "Xo√° s·∫£n ph·∫©m";
    Layout = "_AdminLayout";
}

<h2 class="text-danger">‚ùå X√°c nh·∫≠n xo√° s·∫£n ph·∫©m</h2>

<div class="alert alert-warning">
    <strong>C·∫£nh b√°o:</strong> H√†nh ƒë·ªông n√†y <u>kh√¥ng th·ªÉ ho√†n t√°c</u>.
</div>

<dl class="row">
    <dt class="col-sm-3">T√™n s·∫£n ph·∫©m</dt>
    <dd class="col-sm-9">@Model.Name</dd>

    <dt class="col-sm-3">Slug</dt>
    <dd class="col-sm-9 text-muted">@Model.Slug</dd>

    <dt class="col-sm-3">Gi√°</dt>
    <dd class="col-sm-9">@Model.Price.ToString("N0") ƒë</dd>

    <dt class="col-sm-3">Danh m·ª•c</dt>
    <dd class="col-sm-9">@Model.Category?.Name</dd>

    <dt class="col-sm-3">Tr·∫°ng th√°i</dt>
    <dd class="col-sm-9">
        @((Model.IsActive) ? "K√≠ch ho·∫°t" : "Kh√¥ng k√≠ch ho·∫°t")
    </dd>

    <dt class="col-sm-3">S·ªë ·∫£nh ph·ª•</dt>
    <dd class="col-sm-9">
        @(Model.Images?.Count() ?? 0)
    </dd>

    <dt class="col-sm-3">S·ªë bi·∫øn th·ªÉ</dt>
    <dd class="col-sm-9">
        @(Model.Variants?.Count() ?? 0)
    </dd>
</dl>

@if (!string.IsNullOrEmpty(Model.Thumbnail) && Model.Thumbnail != "/images/no-image.png")
{
    <div class="mb-3">
        <label class="form-label">·∫¢nh ƒë·∫°i di·ªán:</label>
        <br />
        <img src="@Model.Thumbnail"
             class="img-thumbnail"
             style="max-width:150px;" />
    </div>
}

@if (Model.Images != null && Model.Images.Any())
{
    <div class="mb-3">
        <label class="form-label">·∫¢nh ph·ª•:</label>
        <div class="d-flex flex-wrap">
            @foreach (var img in Model.Images)
            {
                <img src="@img.ImageUrl"
                     class="img-thumbnail me-2 mb-2"
                     style="max-width:100px;" />
            }
        </div>
    </div>
}

<form asp-area="Admin"
      asp-controller="Product"
      asp-action="Delete"
      method="post"
      onsubmit="return confirmDelete();">

    @Html.AntiForgeryToken()
    <input type="hidden" asp-for="ProductId" />

    <button id="btnDelete"
            type="submit"
            class="btn btn-danger">
        üóëÔ∏è Xo√° vƒ©nh vi·ªÖn
    </button>

    <a asp-area="Admin"
       asp-controller="Product"
       asp-action="Index"
       class="btn btn-secondary ms-2">
        Hu·ª∑
    </a>
</form>

@section Scripts {
    <script>
        function confirmDelete() {
            const ok = confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën xo√° s·∫£n ph·∫©m n√†y kh√¥ng?");
            if (ok) {
                document.getElementById("btnDelete").disabled = true;
                document.getElementById("btnDelete").innerText = "ƒêang xo√°...";
            }
            return ok;
        }
    </script>
}
